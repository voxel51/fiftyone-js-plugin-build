"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const r=require("@rollup/plugin-node-resolve"),s=require("@vitejs/plugin-react"),i=require("node:path"),f=require("vite"),a=require("vite-plugin-externalize-deps");function l(){const{FIFTYONE_DIR:e}=process.env;if(!e)throw new Error("FIFTYONE_DIR environment variable not set. This is required to resolve @fiftyone/* imports.");return{name:"fiftyone-bundle-private-packages",enforce:"pre",resolveId:t=>{if(t.startsWith("@fiftyone")){const n=t.split("/")[1],o=`${e}/app/packages/${n}`;return this.resolve(o,t,{skipSelf:!0})}return null}}}function p(e,t=[]){const n=require(i.join(e,"package.json"));return f.defineConfig({mode:"development",plugins:[l(),r(),s({jsxRuntime:"classic"}),s(),a.externalizeDeps({deps:!0,devDeps:!1,useFile:i.join(process.cwd(),"package.json"),except:t})],build:{minify:!0,lib:{entry:i.join(e,n.main),name:n.name,fileName:o=>`index.${o}.js`,formats:["umd"]},rollupOptions:{output:{globals:{react:"React","react-dom":"ReactDOM","jsx-runtime":"jsx","@fiftyone/state":"__fos__","@fiftyone/plugins":"__fop__","@fiftyone/operators":"__foo__","@fiftyone/components":"__foc__","@fiftyone/utilities":"__fou__","@fiftyone/spaces":"__fosp__","@mui/material":"__mui__","styled-components":"__styled__"}}}},define:{"process.env.NODE_ENV":'"development"'},optimizeDeps:{exclude:["react","react-dom"]}})}exports.defineConfig=p;
